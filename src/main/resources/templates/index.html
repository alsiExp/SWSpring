<!DOCTYPE html><html xmlns:th="http://www.thymeleaf.org"><head>    <meta charset="UTF-8">    <title>Star Wars Person Info</title>    <link rel="stylesheet" type="text/css"          href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css"          th:href="@{/webjars/bootstrap/4.1.3/css/bootstrap.min.css}">    <style>        .main {            padding-top: 4px;        }        .pagination-container {            padding-top: 3px;        }        .pointer {            cursor: pointer;        }        .photo img {            width: 90%;        }        .help {            padding-top: 12px;        }    </style></head><body><div class="container">    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">        <a class="navbar-brand" href="#">Star Wars Spring App</a>        <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarNav"                aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation">            <span class="navbar-toggler-icon"></span>        </button>        <div class="collapse navbar-collapse" id="navbarNav">            <ul class="navbar-nav">                <li class="nav-item active">                    <a class="nav-link" href="#">People</a>                </li>                <li class="nav-item">                    <a class="nav-link" href="#">Starships </a>                </li>                <li class="nav-item">                    <a class="nav-link" @click="onToggleShowHelp" href="#"> ? </a>                </li>            </ul>        </div>    </nav>    <div class="row main">        <div class="col-sm-4">            <ul class="list-group">                <template v-for="sp in personsList">                    <person-list-item                            v-bind:person="sp"                            v-on:on-simple-person-click="onSimplePersonItemClick">                    </person-list-item>                </template>            </ul>            <nav class="pagination-container">                <ul class="pagination justify-content-center">                    <template v-for="p in pages">                        <pagination-item                                v-bind:page="p"                                v-on:on-pagination-click="onPaginationClick">                        </pagination-item>                    </template>                </ul>            </nav>        </div>        <div class="col-sm-8">            <h2>{{person.name}}</h2>            <div class="row">                <div class="col-sm-8">                    <!-- TODO: здесь должна появится подробная информация о человеке -->                </div>                <div class="col-sm-4 photo">                    <!-- TODO: место для фото -->                    <img :src="img">                </div>            </div>        </div>    </div>    <div v-if="showHelp" class="row help">        <div class="col-sm">            <h2>Что еще можно сделать?</h2>        </div>        <div class="col-sm-7">            <ul>                <li>Реализовать в PersonController эндпойнт для получения Person</li>                <li>Реализовать метод app.onSimplePersonItemClick</li>                <li>Реализовать вывод всей доступной информации из объекта Person на страницу</li>                <li><b>Расширить объект Person и выводить следующую информацию - посчитать количество фильмов, в которых герой снимался, есть ли у него космический корабль. (*) Если корабль есть, выводить его название. (**) </b></li>                <li><b>Придумать метод простого кэширования данных в StarWarsPersonService для объектов Person * </b></li>            </ul>        </div>    </div></div><script src="https://cdn.jsdelivr.net/npm/vue@2.5.13/dist/vue.js"        th:src="@{/webjars/vue/2.5.13/vue.min.js}"></script><script src="https://code.jquery.com/jquery-3.3.1.js"        th:src="@{/webjars/jquery/3.3.1/jquery.min.js}"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"        th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.min.js}"></script><script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.bundle.js"        th:src="@{/webjars/bootstrap/4.1.3/js/bootstrap.bundle.js}"></script><!-- Наш js, нужный только на этой странице --><script>    const PersonListItem = {        props: {            person: Object        },        methods: {            onSimplePersonItemClick: function () {                this.$emit('on-simple-person-click', this.person.id)            }        },        template:            `<li class="list-group-item pointer" @click="onSimplePersonItemClick">{{person.name}}</li>`    };    const PaginationItem = {            props: {                page: Number            },            methods: {                onPaginationItemClick: function () {                    this.$emit('on-pagination-click', this.page)                }            },            template:                `<li class="page-item"><a class="page-link" @click="onPaginationItemClick" href="#">{{page}}</a></li>`        }    ;    const app = new Vue({        el: '.container',        data: {            showHelp: false,            person: {                id: 5,                name: "Leia Organa"            },            personsList: [],            /*            {id: 11,name: "Anakin Skywalker"},            {id: 4,name: "Darth Vader"},            {id: 5,name: "Leia Organa"},            */            pages: []  //[1, 2, 3, 4]        },        methods: {            onInit: function () {                getNewPage("1", (data) => {                    this.pages = data.pages;                    this.personsList = data.persons;                })            },            onPaginationClick: function (page) {                /* TODO: получить данные о странице, на которую кликнули и обновить this.personsList && this.pages */                getNewPage(page, (data) => {                    this.pages = data.pages;                    this.personsList = data.persons;                })            },            onSimplePersonItemClick: function (id) {                /* TODO: получить данные из контроллера и обновить этими данными this.person */                console.log('person id=', id);            },            onToggleShowHelp: function () {                this.showHelp = !this.showHelp;            }        },        computed: {            img: function () {                return `https://starwars-visualguide.com/assets/img/characters/${this.person.id}.jpg`            }        },        components: {            'pagination-item': PaginationItem,            'person-list-item': PersonListItem        }    });    function getNewPage(number, callback) {        $.ajax({            type: "GET",            url: "/api/person/page/" + number        }).then((result) => {            callback(result);        }).catch((reason => {            console.log(`Error: ${reason.statusText}, status code: ${reason.status}, response text: ${reason.responseText}`);        }));    }    app.onInit();</script></body></html>